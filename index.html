<!DOCTYPE html>
<html lang="fr">
<!--
    =============================
    Gouvernement Lecornu II – One Page Interactive
    Architecture du fichier index.html
    =============================
    - Header : Branding, navigation, hero
    - Main : Sections (Présentation, Ministres, Programme, Contact)
    - Footer : Mentions légales à retravailler, juste copier celle du site rumeur ? 
    - Modale : Fiche ministre
    - Script : Interactions JS
-->
<head>
    <!-- Métadonnées et ressources -->
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title></title>
    <!-- Supabase runtime configuration (public anon key only) -->
    <meta name="supabase-url" content="https://yyquczbuhxbfnefwgxxc.supabase.co" />
    <meta name="supabase-anon-key" content="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inl5cXVjemJ1aHhiZm5lZndneHhjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk3ODI5NjcsImV4cCI6MjA3NTM1ODk2N30.0IDUEP96IQQ4Ylz-YoTY1UzoySLT9Wq2YLC2zAb7jds" />
    <!-- Font & CSS -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;600;700&display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="styles.css" />
</head>
<body>
    <!-- ================= HEADER ================= -->
     <!revoir la manière dont le header s'affiche, l'affichage des collabs au sein des pages parce que là c'est hyper moche>
    <header class="site-header" id="top">
        <!-- Header simplified: only the logo (branding moved here) -->
        <div class="brand-block">
            <a href="#top" class="brand-logo" aria-label="Rumeur Maps">
                <img
                    class="site-logo"
                    src="assets/RUMEUR_white_MAPS_red_by_white_logo_white_font1_60px.png"
                    alt="Rumeur Maps — Rumeur Publique"
                    title="Rumeur Maps"
                />
            </a>
        </div>
    </header>

    <!-- ================= MAIN ================= -->
    <main>
        <!-- Section ministres -->
        <section id="ministres" class="section ministers">
            <div class="section-header">
                <style>
                @font-face {
                    font-family: "XO Pretty Havelock";
                    src: url("XO, Pretty - Havelock Inline.local.otf") format("opentype");
                    font-weight: normal;
                    font-style: normal;
                    font-display: swap;
                }
                .section-title.xo-font {
                    font-family: "XO Pretty Havelock", system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
                }
                </style>
                <h1 class="section-title xo-font">Gouvernement Lecornu II</h1>
            </div>
            <div class="toolbar" role="region" aria-label="Outils de filtrage des ministres">
                <div class="toolbar-compact">
                    <div class="toolbar-search-group">
                        <label class="search" for="minister-search">
                            <span class="search-label">Recherche</span>
                            <div class="search-field">
                                <svg class="search-icon" width="18" height="18" viewBox="0 0 24 24" aria-hidden="true">
                                    <path d="M21 21l-4.35-4.35" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                                    <circle cx="11" cy="11" r="6" stroke="currentColor" stroke-width="2" fill="none" />
                                </svg>
                                <input type="search" id="minister-search" placeholder="Rechercher un nom, un portefeuille…" autocomplete="off" />
                            </div>
                        </label>
                    </div>
                    <button
   
                        id="advanced-search-toggle"
                        class="toolbar-advanced-toggle"
                        type="button"
                        aria-expanded="false"
                        aria-controls="advanced-search-panel"
                        data-open-label="Ouvrir la recherche avancée"
                        data-close-label="Fermer la recherche avancée"
                    
    <!-- ================= ca on supprime pour le moment ================= -->
                        <span class="toggle-label">Ouvrir la recherche avancée</span>
                        <svg class="toggle-icon" width="14" height="14" viewBox="0 0 24 24" aria-hidden="true">
                            <path d="M6 9l6 6 6-6" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                        </svg>
                    </button>
                </div>
                <div class="toolbar-advanced" id="advanced-search-panel" hidden>
                    <div class="toolbar-primary">
                        <div class="toolbar-meta" aria-live="polite">
                            <p class="results-count">
                                <span id="results-count-current">0</span>
                                <span id="results-count-label">résultat</span>
                                <span class="results-total">sur <span id="results-count-total">0</span></span>
                            </p>
                            <p class="filters-hint" id="active-filters-hint">Tous les profils sont affichés.</p>
                        </div>
                        <button id="export-page-pdf" class="btn btn-ghost" type="button">Exporter la page</button>
                    </div>
                    <div class="toolbar-filters" role="group" aria-label="Filtres par catégorie">
                        <div class="filter-pills" role="group" aria-label="Catégories de rôle">
                            <button class="filter-btn is-active" data-role="all" type="button">Tous</button>
                            <button class="filter-btn" data-role="leader" type="button">Premier ministre</button>
                            <button class="filter-btn" data-role="minister-state" type="button">Ministres d'État</button>
                            <button class="filter-btn" data-role="minister" type="button">Ministres</button>
                            <button class="filter-btn" data-role="secretary" type="button">Secrétaires d'État</button>
                        </div>
                        <label class="party-filter" for="party-filter">
                            <span class="party-filter-label">Parti</span>
                            <select id="party-filter" name="party">
                                <option value="">Tous partis</option>
                            </select>
                        </label>
                    </div>
                    <div class="toolbar-actions">
                        <label class="sort-control" for="sort-order">
                            <span class="sort-label">Trier</span>
                            <select id="sort-order" name="sort-order">
                                <option value="role">Ordre protocolaire</option>
                                <option value="alpha">Ordre alphabétique</option>
                                <option value="portfolio">Nom du portefeuille</option>
                            </select>
                        </label>
                        <label class="toggle-control" for="filter-delegates">
                            <input type="checkbox" id="filter-delegates" name="filter-delegates" />
                            <span class="toggle-shape" aria-hidden="true"></span>
                            <span class="toggle-text">Cabinet renseigné</span>
                        </label>
                        <label class="toggle-control" for="filter-bio">
                            <input type="checkbox" id="filter-bio" name="filter-bio" />
                            <span class="toggle-shape" aria-hidden="true"></span>
                        </label>
                        <button class="toolbar-reset" id="filters-reset" type="button">Réinitialiser</button>
                    </div>
                </div>
            </div>
            <!-- Grille des ministres -->
            <div id="ministers-grid" class="ministers-grid" role="list" aria-live="polite"></div>
            <p id="ministers-empty" class="empty-state" hidden>Les données Supabase ne sont pas disponibles pour le moment. Vérifiez votre configuration.</p>
        </section>

        

        <!-- Section contact -->
        <section id="contact" class="section contact">
            <div class="section-header">
                <h2 class="section-title">Contact</h2>
                <p class="section-subtitle">Collaborer avec Rumeur Publique</p>
            </div>
            <div class="contact-grid">
                <div class="contact-card">
                    <h3>Nous écrire</h3>
                    <p>Envoyez vos demandes d'actualisation de l'organigramme ou vos propositions de contenu éditorial.</p>
                    <a class="btn btn-primary" href="mailto:contact@rumeurpublique.com">contact@rumeurpublique.com</a>
                </div>
                <div class="contact-card">
                    <h3>Collaborer avec notre equipe d'affaires publiques</h3>
                    <p>Découvrez l'univers créatif et stratégique de Rumeur Publique à travers nos projets.</p>
                    <a class="btn btn-ghost" href="https://www.rumeurpublique.fr" target="_blank" rel="noopener">rumeurpublique.fr</a>
                </div>
            </div>
        </section>
    </main>

    <!-- ================= FOOTER ================= -->
    <footer class="site-footer">
        <div class="footer-inner">
            <div class="footer-brand">
                <a href="#top" class="footer-logo" aria-label="Rumeur Maps">
                    <img class="footer-logo-img" src="assets/RUMEUR_white_MAPS_red_by_white_logo_white_font1_30px.png" alt="Logo Rumeur Maps by Rumeur Publique" />
                </a>
                <p class="footer-copy">© 2025 Rumeur Publique — Tout droit réservé</p>
            </div>
            <a class="btn btn-ghost" href="#top">Remonter en haut</a>
        </div>
    </footer>

    <!-- ================= Mit sous forme de grille c'étiat le plus simple, quelque problème graphqiue dans la grid, les ministres avec plein de ministre délégué déforme les cards et rendent leur collègue tout petit à côté d'eux ================= -->
    <div class="modal" id="minister-modal" role="dialog" aria-modal="true" aria-labelledby="modal-title" hidden>
        <div class="modal-backdrop" data-dismiss></div>
        <div class="modal-content" role="document">
            <button class="modal-close" type="button" aria-label="Fermer" data-dismiss>&times;</button>
            <div class="modal-body">
                <div class="modal-layout">
                    <div class="modal-module modal-module--photo">
                        <div class="modal-photo-frame">
                            <img class="modal-photo" id="modal-photo" src="" alt="" />
                        </div>
                    </div>
                    <div class="modal-module modal-module--identity">
                        <h3 class="modal-identity-title" id="modal-title"></h3>
                        <p class="modal-portfolio" id="modal-portfolio"></p>
                    </div>
                    <div class="modal-module modal-module--description">
                        <p class="modal-description" id="modal-description"></p>
                    </div>
                    <!-- mission module removed -->
                    <div class="modal-module modal-module--delegates" hidden>
                        <h4 class="modal-module-title">Ministres délégués</h4>
                        <div id="modal-delegates" class="modal-delegates-list" role="list"></div>
                    </div>
                    <!-- Biographie -->
                    <div class="modal-module modal-module--biography" hidden>
                        <h4 class="modal-module-title">Biographie</h4>
                        <div class="biography-groups" id="modal-biography-root"></div>
                    </div>
                    
                    <div class="modal-module modal-module--export">
                        <button id="export-minister-pdf" class="modal-export" type="button">Exporter cette fiche</button>
                    </div>
                    <div class="modal-module modal-module--footer">
                        <!-- Disclaimer & contact prompt -->
                        <div class="modal-footer-cta" aria-hidden="true">
                            <img
                                class="modal-footer-logo"
                                src="assets/LogoRP_Bloc_logo_RP_bleu.png"
                                alt="Logo RumeurPublique"
                                onerror="this.src='assets/LogoRP_Bloc_logo_RP_bleu.svg'"
                            />
                            <p class="modal-footer-text">
                                Vous souhaitez rentrer en contact avec un ministre et ses équipes ? Contactez nos équipes pour définir le plan d'influence qui s'adaptera à votre entreprise.
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- ================= SCRIPTS ================= -->
    <!-- Supabase configuration and lightweight client -->
    <!-- Optional local override (gitignored): create config/supabase.local.js to set __SUPABASE_CONFIG__. 404 is fine in prod. -->
    <script src="config/supabase.local.js?v=14a6c69" onerror="void 0"></script>
    <script src="config/supabase.js?v=14a6c69"></script>
    <script src="config/supabase-lite-client.js?v=14a6c69"></script>
    <script src="script.js?v=14a6c69"></script>
</body>
</html>
