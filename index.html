<!DOCTYPE html>
<html lang="fr">
<!--
    =============================
    Gouvernement Lecornu II – One Page Interactive
    Architecture du fichier index.html
    =============================
    - Header : Branding, navigation, hero
    - Main : Sections (Présentation, Ministres, Programme, Contact)
    - Footer : Mentions légales, navigation secondaire
    - Modale : Fiche ministre
    - Script : Interactions JS
-->
<head>
    <!-- Métadonnées et ressources -->
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title></title>
    <!-- Font & CSS -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;600;700&display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="styles.css" />
</head>
<body>
    <!-- ================= HEADER ================= -->
    <header class="site-header" id="top">
        <!-- Header simplified: only the logo (branding moved here) -->
        <div class="brand-block">
            <a href="#top" class="brand-logo" aria-label="Rumeur Maps">
                <img
                    class="site-logo"
                    src="assets/RumeurMaps_logo.png"
                    alt="Logo Rumeur Maps by Rumeur Publique"
                    title="Rumeur Maps"
                />
            </a>
        </div>
    </header>

    <!-- ================= MAIN ================= -->
    <main>
        <!-- Section ministres -->
        <section id="ministres" class="section ministers">
            <div class="section-header">
                <style>
                @font-face {
                    font-family: "XO Pretty Havelock";
                    src: url("fonts/XO, Pretty - Havelock Inline.local.otf") format("opentype");
                    font-weight: normal;
                    font-style: normal;
                    font-display: swap;
                }
                .section-title.xo-font {
                    font-family: "XO Pretty Havelock", system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
                }
                </style>
                <h2 class="section-title xo-font">Gouvernement Lecornu II</h2>
                <p class="section-subtitle"></p>
            </div>
            <div class="toolbar" role="region" aria-label="Outils de filtrage des ministres">
                <div class="toolbar-compact">
                    <div class="toolbar-search-group">
                        <label class="search" for="minister-search">
                            <span class="search-label">Recherche</span>
                            <div class="search-field">
                                <svg class="search-icon" width="18" height="18" viewBox="0 0 24 24" aria-hidden="true">
                                    <path d="M21 21l-4.35-4.35" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                                    <circle cx="11" cy="11" r="6" stroke="currentColor" stroke-width="2" fill="none" />
                                </svg>
                                <input type="search" id="minister-search" placeholder="Rechercher un nom, un portefeuille…" autocomplete="off" />
                            </div>
                        </label>
                    </div>
                    <button
                        id="advanced-search-toggle"
                        class="toolbar-advanced-toggle"
                        type="button"
                        aria-expanded="false"
                        aria-controls="advanced-search-panel"
                        data-open-label="Ouvrir la recherche avancée"
                        data-close-label="Fermer la recherche avancée"
                    >
                        <span class="toggle-label">Ouvrir la recherche avancée</span>
                        <svg class="toggle-icon" width="14" height="14" viewBox="0 0 24 24" aria-hidden="true">
                            <path d="M6 9l6 6 6-6" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                        </svg>
                    </button>
                </div>
                <div class="toolbar-advanced" id="advanced-search-panel" hidden>
                    <div class="toolbar-primary">
                        <div class="toolbar-meta" aria-live="polite">
                            <p class="results-count">
                                <span id="results-count-current">0</span>
                                <span id="results-count-label">résultat</span>
                                <span class="results-total">sur <span id="results-count-total">0</span></span>
                            </p>
                            <p class="filters-hint" id="active-filters-hint">Tous les profils sont affichés.</p>
                        </div>
                        <button id="export-page-pdf" class="btn btn-ghost" type="button">Exporter la page</button>
                    </div>
                    <div class="toolbar-filters" role="group" aria-label="Filtres par catégorie">
                        <div class="filter-pills" role="group" aria-label="Catégories de rôle">
                            <button class="filter-btn is-active" data-role="all" type="button">Tous</button>
                            <button class="filter-btn" data-role="leader" type="button">Premier ministre</button>
                            <button class="filter-btn" data-role="minister-state" type="button">Ministres d'État</button>
                            <button class="filter-btn" data-role="minister" type="button">Ministres</button>
                            <button class="filter-btn" data-role="secretary" type="button">Secrétaires d'État</button>
                        </div>
                        <label class="party-filter" for="party-filter">
                            <span class="party-filter-label">Parti</span>
                            <select id="party-filter" name="party">
                                <option value="">Tous partis</option>
                            </select>
                        </label>
                    </div>
                    <div class="toolbar-actions">
                        <label class="sort-control" for="sort-order">
                            <span class="sort-label">Trier</span>
                            <select id="sort-order" name="sort-order">
                                <option value="role">Importance ministérielle</option>
                                <option value="alpha">Ordre alphabétique</option>
                                <option value="portfolio">Nom du portefeuille</option>
                            </select>
                        </label>
                        <label class="toggle-control" for="filter-delegates">
                            <input type="checkbox" id="filter-delegates" name="filter-delegates" />
                            <span class="toggle-shape" aria-hidden="true"></span>
                            <span class="toggle-text">Cabinet renseigné</span>
                        </label>
                        <label class="toggle-control" for="filter-bio">
                            <input type="checkbox" id="filter-bio" name="filter-bio" />
                            <span class="toggle-shape" aria-hidden="true"></span>
                            <span class="toggle-text">Bio disponible</span>
                        </label>
                        <button class="toolbar-reset" id="filters-reset" type="button">Réinitialiser</button>
                    </div>
                </div>
            </div>
            <!-- Grille des ministres -->
            <div id="ministers-grid" class="ministers-grid" role="list" aria-live="polite"></div>
            <p id="ministers-empty" class="empty-state" hidden>Ajoutez vos données dans <code>data/ministers.json</code> pour alimenter cette section.</p>
        </section>

        

        <!-- Section contact -->
        <section id="contact" class="section contact">
            <div class="section-header">
                <h2 class="section-title">Contact</h2>
                <p class="section-subtitle">Collaborer avec Rumeur Publique</p>
            </div>
            <div class="contact-grid">
                <div class="contact-card">
                    <h3>Nous écrire</h3>
                    <p>Envoyez vos demandes d'actualisation de l'organigramme ou vos propositions de contenu éditorial.</p>
                    <a class="btn btn-primary" href="mailto:contact@rumeurpublique.com">contact@rumeurpublique.com</a>
                </div>
                <div class="contact-card">
                    <h3>En savoir plus</h3>
                    <p>Découvrez l'univers créatif et stratégique de Rumeur Publique à travers nos projets.</p>
                    <a class="btn btn-ghost" href="https://www.rumeurpublique.fr" target="_blank" rel="noopener">rumeurpublique.fr</a>
                </div>
            </div>
        </section>
    </main>

    <!-- ================= FOOTER ================= -->
    <footer class="site-footer">
        <div class="footer-inner">
            <div class="footer-brand">
                <a href="#top" class="footer-logo" aria-label="Rumeur Maps">
                    <img src="assets/RumeurMaps_logo.png" alt="Logo Rumeur Maps by Rumeur Publique" />
                </a>
                <p class="footer-copy">© 2025 Rumeur Publique — Tout droit réservé</p>
            </div>
            <a class="btn btn-ghost" href="#top">Remonter en haut</a>
        </div>
    </footer>

    <!-- ================= MODALE MINISTRE ================= -->
    <div class="modal" id="minister-modal" role="dialog" aria-modal="true" aria-labelledby="modal-title" hidden>
        <div class="modal-backdrop" data-dismiss></div>
        <div class="modal-content" role="document">
            <button class="modal-close" type="button" aria-label="Fermer" data-dismiss>&times;</button>
            <div class="modal-body">
                <div class="modal-header">
                    <img class="modal-photo" id="modal-photo" src="" alt="" />
                    <div>
                        <p class="modal-role" id="modal-role"></p>
                        <h3 id="modal-title"></h3>
                        <p class="modal-portfolio" id="modal-portfolio"></p>
                    </div>
                </div>
                <p class="modal-description" id="modal-description"></p>
                <dl class="modal-meta">
                    <div>
                        <dt>Mission</dt>
                        <dd id="modal-mission"></dd>
                    </div>
                    <div>
                        <dt>Contact</dt>
                        <dd id="modal-contact"></dd>
                    </div>
                </dl>
                <button id="export-minister-pdf" class="modal-export" type="button">Exporter cette fiche</button>
                <!-- Disclaimer & contact prompt -->
                <div class="modal-footer-cta" aria-hidden="true">
                    <img class="modal-footer-logo" src="assets/LogoRP_Bloc_logo_RP_bleu.png" alt="Logo RumeurPublique" onerror="this.src='assets/LogoRP_Bloc_logo_RP_bleu.svg'"/>
                    <p class="modal-footer-text">Vous souhaitez rentrer en contact avec un ministre et ses équipes ? Contactez nos équipes pour définir le plan d'influence qui s'adaptera à votre entreprise.</p>
                </div>
            </div>
        </div>
    </div>

    <!-- ================= SCRIPTS ================= -->
    <!-- Supabase client (required to fetch live ministers) -->
    <script src="https://unpkg.com/@supabase/supabase-js@2"></script>
    <!-- Local Supabase configuration -->
    <script src="config/supabase.js"></script>
    <script src="script.js"></script>
</body>
</html>
